2023-09-07 19:08:22,533 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command': 'show version'} on 4 hosts
2023-09-07 19:08:22,534 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: netmiko_send_command() missing 1 required positional argument: 'command_string'

2023-09-07 19:08:22,534 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: netmiko_send_command() missing 1 required positional argument: 'command_string'

2023-09-07 19:08:22,535 - nornir.core.task -    ERROR -      start() - Host 'CSR3': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: netmiko_send_command() missing 1 required positional argument: 'command_string'

2023-09-07 19:08:22,535 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
TypeError: netmiko_send_command() missing 1 required positional argument: 'command_string'

2023-09-07 19:20:36,529 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_example' with args {} on 4 hosts
2023-09-07 19:20:36,965 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/transport.py", line 1587, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1083, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: juniper_junos 172.16.60.203:22


Authentication failed.

2023-09-07 19:20:36,966 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_example' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/scripts/nornir_script.py", line 5, in netmiko_send_example
    task.run(task=netmiko_send_command, command_string="show ip int br | ex una")
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 19:21:11,157 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_example' with args {} on 4 hosts
2023-09-07 19:21:11,345 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/transport.py", line 1587, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1083, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: juniper_junos 172.16.60.203:22


Authentication failed.

2023-09-07 19:21:11,346 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_example' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/scripts/nornir_script.py", line 5, in netmiko_send_example
    task.run(task=netmiko_send_command, command_string="show ip int br ")
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 19:21:40,099 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_example' with args {} on 4 hosts
2023-09-07 19:21:40,378 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/transport.py", line 1587, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1083, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: juniper_junos 172.16.60.203:22


Authentication failed.

2023-09-07 19:21:40,378 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_example' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/scripts/nornir_script.py", line 5, in netmiko_send_example
    task.run(task=netmiko_send_command, command_string="show ip int br ")
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 19:26:59,716 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_example' with args {} on 4 hosts
2023-09-07 19:26:59,944 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/transport.py", line 1587, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1083, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: juniper_junos 172.16.60.203:22


Authentication failed.

2023-09-07 19:26:59,945 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_example' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/scripts/nornir_script.py", line 5, in netmiko_send_example
    task.run(task=netmiko_send_command, command_string="show ip int br ")
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 19:27:29,024 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_example' with args {} on 4 hosts
2023-09-07 19:27:29,319 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/transport.py", line 1587, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1083, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: juniper_junos 172.16.60.203:22


Authentication failed.

2023-09-07 19:27:29,319 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_example' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/scripts/nornir_script.py", line 5, in netmiko_send_example
    task.run(task=netmiko_send_command, command_string="show ip int br ")
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 19:36:22,648 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_example' with args {} on 4 hosts
2023-09-07 19:36:22,961 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1046, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 485, in connect
    self._auth(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 818, in _auth
    raise saved_exception
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/client.py", line 805, in _auth
    self._transport.auth_password(username, password)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/transport.py", line 1587, in auth_password
    return self.auth_handler.wait_for_response(my_event)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/paramiko/auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 494, in get_connection
    self.open_connection(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/inventory.py", line 546, in open_connection
    conn_obj.open(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/connections/netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/ssh_dispatcher.py", line 365, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 439, in __init__
    self._open()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 444, in _open
    self.establish_connection()
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1083, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: juniper_junos 172.16.60.203:22


Authentication failed.

2023-09-07 19:36:22,962 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_example' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/scripts/nornir_script.py", line 5, in netmiko_send_example
    task.run(task=netmiko_send_command, command_string="show ip int br ")
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 20:40:47,770 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 20:40:58,390 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 20:40:58,390 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 10, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:43:56,962 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 21:44:07,856 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 21:44:07,856 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 14, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:44:31,450 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 21:44:42,175 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 21:44:42,175 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 14, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:45:32,441 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 21:45:43,143 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 21:45:43,143 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 14, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:46:33,843 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 21:46:44,508 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 21:46:44,508 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 14, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:47:13,804 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 21:47:24,459 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 21:47:24,459 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 14, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:47:28,016 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 21:47:38,826 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 21:47:38,826 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 14, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:47:39,839 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 21:47:50,441 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 21:47:50,441 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 14, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:47:52,749 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 21:48:03,315 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 21:48:03,316 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 14, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:49:20,224 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 21:49:30,842 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 21:49:30,842 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 12, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:50:48,615 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 21:50:59,362 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 21:50:59,362 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 15, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:52:09,782 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 4 hosts
2023-09-07 21:52:20,676 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_command.py", line 32, in netmiko_send_command
    result = net_connect.send_command(command_string, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1671, in send_command
    new_data = self.command_echo_read(cmd=cmd, read_timeout=10)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 1396, in command_echo_read
    new_data = self.read_until_pattern(
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'show\\ ip\\ int\\ br\\ \\|\\ ex\\ una' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 21:52:20,677 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'sending_netmiko_command' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/nornir_send_command.py", line 15, in sending_netmiko_command
    task.run(task=netmiko_send_command, command_string=command)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_command (failed)


2023-09-07 21:59:43,905 -  nornir.core -  WARNING -        run() - Task 'sending_netmiko_command' has not been run – 0 hosts selected
2023-09-07 21:59:53,112 -  nornir.core -  WARNING -        run() - Task 'sending_netmiko_command' has not been run – 0 hosts selected
2023-09-07 22:00:30,063 -  nornir.core -  WARNING -        run() - Task 'sending_netmiko_command' has not been run – 0 hosts selected
2023-09-07 22:03:41,320 -  nornir.core -  WARNING -        run() - Task 'sending_netmiko_command' has not been run – 0 hosts selected
2023-09-07 22:03:50,079 -  nornir.core -  WARNING -        run() - Task 'sending_netmiko_command' has not been run – 0 hosts selected
2023-09-07 22:04:26,652 -  nornir.core -  WARNING -        run() - Task 'sending_netmiko_command' has not been run – 0 hosts selected
2023-09-07 22:04:34,353 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 3 hosts
2023-09-07 22:09:30,595 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_command' with args {} on 3 hosts
2023-09-07 23:16:38,508 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr1' with args {} on 4 hosts
2023-09-07 23:16:38,509 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr2' with args {} on 4 hosts
2023-09-07 23:16:38,510 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr3' with args {} on 4 hosts
2023-09-07 23:16:38,511 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 54, in configure_ospf_csr3
    target_host = nr.filter(hostname=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:16:38,511 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 54, in configure_ospf_csr3
    target_host = nr.filter(hostname=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:16:38,512 - nornir.core.task -    ERROR -      start() - Host 'CSR3': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 54, in configure_ospf_csr3
    target_host = nr.filter(hostname=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:16:38,512 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 54, in configure_ospf_csr3
    target_host = nr.filter(hostname=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:18:56,801 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr1' with args {} on 4 hosts
2023-09-07 23:18:57,416 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_config' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_config.py", line 42, in netmiko_send_config
    raise ValueError("Must specify either config_commands or config_file")
ValueError: Must specify either config_commands or config_file

2023-09-07 23:18:57,417 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'configure_ospf_csr1' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 27, in configure_ospf_csr1
    task.run(task=netmiko_send_config, command_string=commands)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_config (failed)


2023-09-07 23:18:57,897 - nornir.core.task -    ERROR -      start() - Host 'CSR3': task 'netmiko_send_config' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_config.py", line 42, in netmiko_send_config
    raise ValueError("Must specify either config_commands or config_file")
ValueError: Must specify either config_commands or config_file

2023-09-07 23:18:57,897 - nornir.core.task -    ERROR -      start() - Host 'CSR3': task 'configure_ospf_csr1' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 27, in configure_ospf_csr1
    task.run(task=netmiko_send_config, command_string=commands)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_config (failed)


2023-09-07 23:18:57,908 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'netmiko_send_config' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_config.py", line 42, in netmiko_send_config
    raise ValueError("Must specify either config_commands or config_file")
ValueError: Must specify either config_commands or config_file

2023-09-07 23:18:57,908 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'netmiko_send_config' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_config.py", line 42, in netmiko_send_config
    raise ValueError("Must specify either config_commands or config_file")
ValueError: Must specify either config_commands or config_file

2023-09-07 23:18:57,908 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'configure_ospf_csr1' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 27, in configure_ospf_csr1
    task.run(task=netmiko_send_config, command_string=commands)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_config (failed)


2023-09-07 23:18:57,908 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'configure_ospf_csr1' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 27, in configure_ospf_csr1
    task.run(task=netmiko_send_config, command_string=commands)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_config (failed)


2023-09-07 23:18:57,909 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr2' with args {} on 4 hosts
2023-09-07 23:18:57,909 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr3' with args {} on 4 hosts
2023-09-07 23:20:06,563 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr1' with args {} on 4 hosts
2023-09-07 23:20:17,383 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_config' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_config.py", line 38, in netmiko_send_config
    result = net_connect.send_config_set(config_commands=config_commands, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 2202, in send_config_set
    output += self.read_until_pattern(pattern=re.escape(cmd.strip()))
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'int\\ lo0' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 23:20:17,383 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'configure_ospf_csr1' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 27, in configure_ospf_csr1
    task.run(task=netmiko_send_config, config_commands=commands)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_config (failed)


2023-09-07 23:20:17,383 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr2' with args {} on 4 hosts
2023-09-07 23:20:18,194 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr3' with args {} on 4 hosts
2023-09-07 23:20:18,194 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 54, in configure_ospf_csr3
    target_host = nr.filter(hostname=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:20:18,195 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 54, in configure_ospf_csr3
    target_host = nr.filter(hostname=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:20:18,195 - nornir.core.task -    ERROR -      start() - Host 'CSR3': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 54, in configure_ospf_csr3
    target_host = nr.filter(hostname=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:26:15,321 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr1' with args {} on 4 hosts
2023-09-07 23:26:26,494 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_config' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_config.py", line 38, in netmiko_send_config
    result = net_connect.send_config_set(config_commands=config_commands, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 2202, in send_config_set
    output += self.read_until_pattern(pattern=re.escape(cmd.strip()))
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'int\\ lo0' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 23:26:26,495 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'configure_ospf_csr1' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 29, in configure_ospf_csr1
    task.run(task=netmiko_send_config, config_commands=commands)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_config (failed)


2023-09-07 23:26:26,495 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr2' with args {} on 4 hosts
2023-09-07 23:26:27,179 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr3' with args {} on 4 hosts
2023-09-07 23:26:27,180 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 57, in configure_ospf_csr3
    target_host = nr.filter(hostn=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:26:27,180 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 57, in configure_ospf_csr3
    target_host = nr.filter(hostn=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:26:27,181 - nornir.core.task -    ERROR -      start() - Host 'CSR3': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 57, in configure_ospf_csr3
    target_host = nr.filter(hostn=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:27:50,344 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr1' with args {} on 4 hosts
2023-09-07 23:27:50,345 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr2' with args {} on 4 hosts
2023-09-07 23:27:50,346 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr3' with args {} on 4 hosts
2023-09-07 23:27:50,347 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 54, in configure_ospf_csr3
    target_host = nr.filter(hostn=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:27:50,347 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 54, in configure_ospf_csr3
    target_host = nr.filter(hostn=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:27:50,347 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 54, in configure_ospf_csr3
    target_host = nr.filter(hostn=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:27:50,347 - nornir.core.task -    ERROR -      start() - Host 'CSR3': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 54, in configure_ospf_csr3
    target_host = nr.filter(hostn=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:34:27,873 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr1' with args {} on 4 hosts
2023-09-07 23:34:38,491 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_config' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_config.py", line 38, in netmiko_send_config
    result = net_connect.send_config_set(config_commands=config_commands, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 2202, in send_config_set
    output += self.read_until_pattern(pattern=re.escape(cmd.strip()))
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'int\\ lo0' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-07 23:34:38,492 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'configure_ospf_csr1' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 29, in configure_ospf_csr1
    task.run(task=netmiko_send_config, config_commands=commands)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 174, in run
    raise NornirSubTaskError(task=run_task, result=r)
nornir.core.exceptions.NornirSubTaskError: Subtask: netmiko_send_config (failed)


2023-09-07 23:34:38,492 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr2' with args {} on 4 hosts
2023-09-07 23:34:39,206 -  nornir.core -     INFO -        run() - Running task 'configure_ospf_csr3' with args {} on 4 hosts
2023-09-07 23:34:39,206 - nornir.core.task -    ERROR -      start() - Host 'CSR1': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 57, in configure_ospf_csr3
    target_host = nr.filter(hostn=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:34:39,207 - nornir.core.task -    ERROR -      start() - Host 'CSR2': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 57, in configure_ospf_csr3
    target_host = nr.filter(hostn=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-07 23:34:39,207 - nornir.core.task -    ERROR -      start() - Host 'CSR3': task 'configure_ospf_csr3' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/nornir_netmiko/send_config_ospf_to_each_router.py", line 57, in configure_ospf_csr3
    target_host = nr.filter(hostn=target_host)
UnboundLocalError: local variable 'target_host' referenced before assignment

2023-09-08 12:22:00,368 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_config' with args {} on 3 hosts
2023-09-08 12:26:54,171 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_config' with args {} on 1 hosts
2023-09-08 12:26:55,420 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_config' with args {} on 1 hosts
2023-09-08 12:26:56,890 -  nornir.core -     INFO -        run() - Running task 'sending_netmiko_config' with args {} on 1 hosts
2023-09-08 12:32:30,659 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 1.1.1.1 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 4 hosts
2023-09-08 12:32:41,264 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_config' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_config.py", line 38, in netmiko_send_config
    result = net_connect.send_config_set(config_commands=config_commands, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 2202, in send_config_set
    output += self.read_until_pattern(pattern=re.escape(cmd.strip()))
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'int\\ lo0' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-08 12:32:41,265 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 2.2.2.2 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 4 hosts
2023-09-08 12:32:41,991 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 3.3.3.3 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 4 hosts
2023-09-08 12:34:24,107 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 1.1.1.1 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 4 hosts
2023-09-08 12:34:34,720 - nornir.core.task -    ERROR -      start() - Host 'Juniper_R1': task 'netmiko_send_config' failed with traceback:
Traceback (most recent call last):
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir/core/task.py", line 99, in start
    r = self.task(self, **self.params)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/nornir_netmiko/tasks/netmiko_send_config.py", line 38, in netmiko_send_config
    result = net_connect.send_config_set(config_commands=config_commands, **kwargs)
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 2202, in send_config_set
    output += self.read_until_pattern(pattern=re.escape(cmd.strip()))
  File "/home/hwtech/nornir_project/.venv/lib/python3.10/site-packages/netmiko/base_connection.py", line 672, in read_until_pattern
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 

Pattern not detected: 'int\\ lo0' in output.

Things you might try to fix this:
1. Adjust the regex pattern to better identify the terminating string. Note, in
many situations the pattern is automatically based on the network device's prompt.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-09-08 12:34:34,721 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 2.2.2.2 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 4 hosts
2023-09-08 12:34:35,390 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 3.3.3.3 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 4 hosts
2023-09-08 12:36:57,188 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 1.1.1.1 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:36:58,437 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 2.2.2.2 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:36:59,010 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 3.3.3.3 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:41:06,601 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 1.1.1.1 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:41:07,864 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 2.2.2.2 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:41:09,302 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 3.3.3.3 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:42:45,084 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 1.1.1.1 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:42:46,333 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 2.2.2.2 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:42:47,539 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 3.3.3.3 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:43:50,484 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 1.1.1.1 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:43:51,835 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 2.2.2.2 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:43:53,163 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 3.3.3.3 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:49:07,694 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 1.1.1.1 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:49:09,107 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 2.2.2.2 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:49:10,365 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 3.3.3.3 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:49:43,874 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 1.1.1.1 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:49:45,233 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 2.2.2.2 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
2023-09-08 12:49:46,658 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_config' with args {'config_commands': ['int lo0', 'ip add 3.3.3.3 255.255.255.0', 'ip ospf network point-to-point', 'router ospf 1', 'network 172.16.60.0 0.0.0.255 area 0']} on 1 hosts
